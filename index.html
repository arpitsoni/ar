<script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
<script src="hogarth-ar.js"></script>
<script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v4.1.2/dist/aframe-extras.min.js"></script>
<script src="https://rawgit.com/mayognaise/aframe-gif-shader/master/dist/aframe-gif-shader.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script>
    AFRAME.registerComponent('vidhandler', { // ... 
        init: function () {
            // Set up initial state and variables. 
            this.toggle = false;
            this.vid = document.querySelector("#vid");
            this.vid.play();
        },
        tick: function () {
            if (this.el.object3D.visible == true) {
                if (!this.toggle) {
                    this.toggle = true;
                    this.vid.play();
                }
            } else {
                this.toggle = false; this.vid.pause();
            }
        }
    });
    // function refrespage() {
    //     location.reload();
    // }
</script>

<a-scene embedded artoolkit='sourceType: webcam; detectionMode: mono; maxDetectionRate: 30; canvasWidth: 250; canvasHeight: 250'>
    <a-assets>
        <!--Audio-->
        <audio id="horse" src="horse.mp3" preload="auto" autoplay></audio>

        <!--Video-->
        <video preload="auto" id="vid" autoplay loop="true" crossorigin webkit-playsinline playsinline controls>
            <!-- <source type="video/webm" src="04_Test.webm"> -->
            <source type="video/mp4" src="03_Test_whitebg.mp4">
            <!-- <source type="video/mp4" src="Hands_on.mp4">
            <source type="video/mp4" src="Happy_Family.mp4">
            <source type="video/mp4" src="Heart_&_Soul.mp4"> -->
            <!-- <source type="video/mov" src="02_Test_Alpha.mov"> -->
            <h3>Error : Your browser does not support.</h3> -->
            <!-- FOR NOTMAL VIDEO YOU CAN USE MP4 or WEBM BUT FOR ALPHA VIDEO YOU NEED TO USE .WEBM FORMAT-->
        </video>

        <!--images-->
        <img src="MarkDelhi.png" id="markDelhiImg" alt="Delhi Image">
        <img src="MarkMumbai.png" id="markMumbaiImg" alt="Mumbai Image">
        <img src="MarkChennai.png" id="markChennaiImg" alt="Chennai Image">

        <img src="HandsOn.png" id="handsOnImg" alt="Hands On Value">
        <img src="HappyFamily.png" id="happyFamilyImg" alt="Happy Family Value">
        <img src="Honest.png" id="honestImg" alt="Honest Value">
        <img src="HeartAndSoul.png" id="heartAndSoulImg" alt="Heart and Soul Value">

    </a-assets>

    <!--India Points Starts-->
    <!-- <a-marker crossorigin="anonymous" id="delhi" type="pattern" preset="custom" url="delhi.patt">
        <a-plane position='0 0.1 0' scale="2 2 2" rotation="-90 0 0" material='transparent:true; alphaTest:0; src:#markChennaiImg'></a-plane>
        <a-entity sound="src: #horse"></a-entity>
    </a-marker>

    <a-marker crossorigin="anonymous" id="mumbai" type="pattern" preset="custom" url="mumbai.patt">
        <a-plane position='0 0.1 0' scale="2 2 2" rotation="-90 0 0" material='transparent:true; alphaTest:0; src:#markChennaiImg'></a-plane>
        <a-entity sound="src: #horse"></a-entity>
    </a-marker> -->

    <a-marker crossorigin="anonymous" id="chennai" type="pattern" preset="custom" url="chennai.patt">
        <a-plane position='0 0.1 0' scale="2 2 2" rotation="-90 0 0" material='transparent:true; alphaTest:0; src:#markChennaiImg'></a-plane>
        <a-entity sound="src: #horse"></a-entity>
    </a-marker>
    <!--India Points Ends/-->

    <!--Hogarth Values Starts-->
    <!-- <a-marker crossorigin="anonymous" id="handsOn" type="pattern" preset="custom" url="handsOn.patt">
        <a-plane position='0 0.1 0' scale="2 2 2" rotation="-90 0 0" material='transparent:true; alphaTest:0; src:#handsOnImg'></a-plane>
    </a-marker>

    <a-marker crossorigin="anonymous" id="happyFamily" type="pattern" preset="custom" url="happyFamily.patt">
        <a-plane position='0 0.1 0' scale="2 2 2" rotation="-90 0 0" material='transparent:true; alphaTest:0; src:#happyFamilyImg'></a-plane>
    </a-marker>

    <a-marker crossorigin="anonymous" id="honest" type="pattern" preset="custom" url="honest.patt">
        <a-plane position='0 0.1 0' scale="2 2 2" rotation="-90 0 0" material='transparent:true; alphaTest:0; src:#honestImg'></a-plane>
    </a-marker>

    <a-marker crossorigin="anonymous" id="heartAndSoul" type="pattern" preset="custom" url="heartAndSoul.patt">
        <a-plane position='0 0.1 0' scale="2 2 2" rotation="-90 0 0" material='transparent:true; alphaTest:0; src:#heartAndSoulImg'></a-plane>
    </a-marker> -->
    <!--Hogarth Values Ends/-->

    <!-- <a-marker crossorigin="anonymous" id="memarker3" type="pattern" preset="custom" url="python.patt" vidhandler>
        <a-plane position='0 0.1 0' scale="2 2 2" rotation="-90 0 0" material='transparent:true; alphaTest:0; src:#heartAndSoulImg'></a-plane>
    </a-marker>

    <a-marker crossorigin="anonymous" id="memarker4" type="pattern" preset="custom" url="arpit.patt">
        <a-plane position='0 0.1 0' scale="2 2 2" rotation="-90 0 0" material='transparent:true; alphaTest:0; src:#heartAndSoulImg'></a-plane>
    </a-marker> -->

    <a-entity camera></a-entity>
</a-scene>